{"version":3,"sources":["ui.coffee"],"names":[],"mappings":"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","file":"ui.js","sourceRoot":"/source/","sourcesContent":["# 用到了 turbolinks\r\n# 事件加载参考\r\n# https://github.com/rails/turbolinks/#no-jquery-or-any-other-library\r\n\r\njQuery(document).on 'ready page:load', ->\r\n  console.debug 'loaded'\r\n\r\n# 点亮 navbar\r\njQuery(document).on 'ready page:load', ->\r\n  nav = jQuery('[data-nav]').data('nav')\r\n  jQuery(\".layout-footer a.item.#{nav}\").addClass('active')\r\n\r\n# 填充标题\r\njQuery(document).on 'ready page:load', ->\r\n  title = jQuery('[data-title]').data('title')\r\n  jQuery(\".layout-header .page\").text title\r\n\r\n# home 页页签\r\njQuery(document).delegate '.page-landing .filter a.item', 'click', ->\r\n  $item = jQuery(this)\r\n  $item.closest('.filter').find('a.item').removeClass('active')\r\n  $item.addClass('active')\r\n\r\n# back 按钮链接\r\njQuery(document).on 'ready page:load', ->\r\n  back_url = jQuery('[data-back]').data('back')\r\n  jQuery(\".layout-header .back\").attr 'href', back_url\r\n\r\n# 投票选项点击\r\njQuery(document).delegate '.topic-options .option', 'click', ->\r\n  jQuery(this).toggleClass 'active'\r\n\r\n# 表单页的下一步按钮\r\njQuery(document).delegate '.page-new-topic .form a.next', 'click', ->\r\n  $current_part = jQuery(this).closest('.part')\r\n  $to_part = $current_part.next('.part')\r\n\r\n  current = $current_part.data('step')\r\n  to = $to_part.data('step')\r\n\r\n  $current_part.fadeOut(200)\r\n  $to_part.fadeIn(200)\r\n\r\n  jQuery(\".topbar .steps .step[data-step=#{current}]\")\r\n    .removeClass('active')\r\n    .addClass('done')\r\n\r\n  jQuery(\".topbar .steps .step[data-step=#{to}]\")\r\n    .addClass('active')\r\n\r\njQuery(document).delegate '.page-new-topic .form a.prev', 'click', ->\r\n  $current_part = jQuery(this).closest('.part')\r\n  $to_part = $current_part.prev('.part')\r\n\r\n  current = $current_part.data('step')\r\n  to = $to_part.data('step')\r\n\r\n  $current_part.fadeOut(200)\r\n  $to_part.fadeIn(200)\r\n\r\n  jQuery(\".topbar .steps .step[data-step=#{current}]\")\r\n    .removeClass('active')\r\n\r\n  jQuery(\".topbar .steps .step[data-step=#{to}]\")\r\n    .removeClass('done')\r\n    .addClass('active')"]}