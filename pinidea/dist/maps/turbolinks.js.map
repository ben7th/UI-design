{"version":3,"sources":["turbolinks.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA,klCAAA;IAAA;;;;oFAAA;;AAAA,EAAA,SAAA,GAA0B,EAA1B,CAAA;;AAAA,EACA,SAAA,GAA0B,EAD1B,CAAA;;AAAA,EAEA,sBAAA,GAA0B,KAF1B,CAAA;;AAAA,EAGA,qBAAA,GAA0B,IAH1B,CAAA;;AAAA,EAIA,WAAA,GAA0B,IAJ1B,CAAA;;AAAA,EAMA,YAAA,GAA0B,IAN1B,CAAA;;AAAA,EAOA,YAAA,GAA0B,IAP1B,CAAA;;AAAA,EASA,OAAA,GAA0B,IAT1B,CAAA;;AAAA,EAWA,GAAA,GAA0B,IAX1B,CAAA;;AAAA,EAaA,MAAA,GACE;AAAA,IAAA,aAAA,EAAgB,oBAAhB;AAAA,IACA,KAAA,EAAgB,YADhB;AAAA,IAEA,OAAA,EAAgB,cAFhB;AAAA,IAGA,MAAA,EAAgB,aAHhB;AAAA,IAIA,MAAA,EAAgB,aAJhB;AAAA,IAKA,IAAA,EAAgB,WALhB;AAAA,IAMA,OAAA,EAAgB,cANhB;AAAA,IAOA,aAAA,EAAgB,oBAPhB;AAAA,IAQA,YAAA,EAAgB,mBARhB;GAdF,CAAA;;AAAA,EAwBA,KAAA,GAAQ,SAAC,GAAD,EAAM,OAAN,GAAA;AACN,QAAA,UAAA;;MADY,UAAU;KACtB;AAAA,IAAA,GAAA,GAAU,IAAA,YAAA,CAAa,GAAb,CAAV,CAAA;AAAA,IAEA,eAAA,CAAA,CAFA,CAAA;AAAA,IAGA,gBAAA,CAAA,CAHA,CAAA;;MAIA,WAAW,CAAE,KAAb,CAAA;KAJA;AAMA,IAAA,IAAG,sBAAA,IAA2B,CAAA,UAAA,GAAa,kBAAA,CAAmB,GAAG,CAAC,QAAvB,CAAb,CAA9B;AACE,MAAA,YAAA,CAAa,UAAb,CAAA,CAAA;AAAA,MACA,OAAO,CAAC,eAAR,GAA0B,KAD1B,CAAA;aAEA,gBAAA,CAAiB,GAAjB,EAAsB,OAAtB,EAHF;KAAA,MAAA;AAKE,MAAA,OAAO,CAAC,cAAR,GAAyB,mBAAzB,CAAA;aACA,gBAAA,CAAiB,GAAjB,EAAsB,OAAtB,EANF;KAPM;EAAA,CAxBR,CAAA;;AAAA,EAuCA,kBAAA,GAAqB,SAAC,GAAD,GAAA;AACnB,QAAA,UAAA;AAAA,IAAA,UAAA,GAAa,SAAU,CAAA,GAAA,CAAvB,CAAA;AACA,IAAA,IAAc,UAAA,IAAe,CAAA,UAAW,CAAC,uBAAzC;aAAA,WAAA;KAFmB;EAAA,CAvCrB,CAAA;;AAAA,EA2CA,qBAAA,GAAwB,SAAC,MAAD,GAAA;;MAAC,SAAS;KAChC;WAAA,sBAAA,GAAyB,OADH;EAAA,CA3CxB,CAAA;;AAAA,EA8CA,qBAAA,GAAwB,SAAC,OAAD,GAAA;;MAAC,UAAU;KACjC;AAAA,IAAA,qBAAA,GAAwB,CAAA,OAAxB,CAAA;WACA,QAFsB;EAAA,CA9CxB,CAAA;;AAAA,EAkDA,gBAAA,GAAmB,SAAC,GAAD,EAAM,OAAN,GAAA;;MACjB,OAAO,CAAC,eAAgB;KAAxB;;MACA,OAAO,CAAC,kBAAmB;KAD3B;AAAA,IAGA,YAAA,CAAa,MAAM,CAAC,KAApB,EAA2B;AAAA,MAAA,GAAA,EAAK,GAAG,CAAC,QAAT;KAA3B,CAHA,CAAA;;MAKA,GAAG,CAAE,KAAL,CAAA;KALA;AAAA,IAMA,GAAA,GAAM,GAAA,CAAA,cANN,CAAA;AAAA,IAOA,GAAG,CAAC,IAAJ,CAAS,KAAT,EAAgB,GAAG,CAAC,YAAJ,CAAiB;AAAA,MAAA,KAAA,EAAO,OAAO,CAAC,YAAf;KAAjB,CAAhB,EAA+D,IAA/D,CAPA,CAAA;AAAA,IAQA,GAAG,CAAC,gBAAJ,CAAqB,QAArB,EAA+B,mDAA/B,CARA,CAAA;AAAA,IASA,GAAG,CAAC,gBAAJ,CAAqB,eAArB,EAAsC,OAAtC,CATA,CAAA;AAAA,IAWA,GAAG,CAAC,MAAJ,GAAa,SAAA,GAAA;AACX,UAAA,GAAA;AAAA,MAAA,YAAA,CAAa,MAAM,CAAC,OAApB,EAA6B;AAAA,QAAA,GAAA,EAAK,GAAG,CAAC,QAAT;OAA7B,CAAA,CAAA;AAEA,MAAA,IAAG,GAAA,GAAM,eAAA,CAAA,CAAT;AACE,QAAA,aAAA,CAAc,GAAd,CAAA,CAAA;AAAA,QACA,oBAAA,CAAA,CADA,CAAA;AAAA,QAEA,UAAA,CAAW,GAAX,EAAgB,OAAhB,CAFA,CAAA;AAGA,QAAA,IAAG,OAAO,CAAC,eAAX;;YACE,WAAW,CAAE,IAAb,CAAA;WADF;SAHA;AAAA,QAKA,mCAAA,CAAA,CALA,CAAA;;UAMA,OAAO,CAAC;SANR;eAOA,YAAA,CAAa,MAAM,CAAC,IAApB,EARF;OAAA,MAAA;;UAUE,WAAW,CAAE,IAAb,CAAA;SAAA;eACA,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,mBAAA,CAAA,CAAA,IAAyB,GAAG,CAAC,SAXxD;OAHW;IAAA,CAXb,CAAA;AA2BA,IAAA,IAAG,WAAA,IAAgB,OAAO,CAAC,eAA3B;AACE,MAAA,GAAG,CAAC,UAAJ,GAAiB,CAAA,SAAA,KAAA,GAAA;eAAA,SAAC,KAAD,GAAA;AACf,cAAA,OAAA;AAAA,UAAA,OAAA,GAAa,KAAK,CAAC,gBAAT,GACR,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,KAArB,GAA6B,GADrB,GAGR,WAAW,CAAC,KAAZ,GAAoB,CAAC,GAAA,GAAM,WAAW,CAAC,KAAnB,CAAA,GAA4B,EAHlD,CAAA;iBAIA,WAAW,CAAC,SAAZ,CAAsB,OAAtB,EALe;QAAA,EAAA;MAAA,CAAA,CAAA,CAAA,IAAA,CAAjB,CADF;KA3BA;AAAA,IAmCA,GAAG,CAAC,SAAJ,GAAgB,SAAA,GAAA;aAAG,GAAA,GAAM,KAAT;IAAA,CAnChB,CAAA;AAAA,IAoCA,GAAG,CAAC,OAAJ,GAAgB,SAAA,GAAA;aAAG,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,GAAG,CAAC,SAAhC;IAAA,CApChB,CAAA;WAsCA,GAAG,CAAC,IAAJ,CAAA,EAvCiB;EAAA,CAlDnB,CAAA;;AAAA,EA2FA,YAAA,GAAe,SAAC,UAAD,GAAA;;MACb,GAAG,CAAE,KAAL,CAAA;KAAA;AAAA,IACA,UAAA,CAAW,cAAA,CAAe,UAAU,CAAC,IAA1B,CAAX,EAA4C;AAAA,MAAA,KAAA,EAAO,UAAU,CAAC,KAAlB;AAAA,MAAyB,UAAA,EAAY,KAArC;KAA5C,CADA,CAAA;;MAEA,WAAW,CAAE,IAAb,CAAA;KAFA;AAAA,IAGA,oBAAA,CAAqB,UAArB,CAHA,CAAA;WAIA,YAAA,CAAa,MAAM,CAAC,OAApB,EALa;EAAA,CA3Ff,CAAA;;AAAA,EAkGA,gBAAA,GAAmB,SAAA,GAAA;AACjB,QAAA,eAAA;AAAA,IAAA,eAAA,GAAsB,IAAA,YAAA,CAAa,YAAY,CAAC,GAA1B,CAAtB,CAAA;AAAA,IAEA,SAAU,CAAA,eAAe,CAAC,QAAhB,CAAV,GACE;AAAA,MAAA,GAAA,EAA0B,eAAe,CAAC,QAA1C;AAAA,MACA,IAAA,EAA0B,QAAQ,CAAC,IAAI,CAAC,SADxC;AAAA,MAEA,KAAA,EAA0B,QAAQ,CAAC,KAFnC;AAAA,MAGA,SAAA,EAA0B,MAAM,CAAC,WAHjC;AAAA,MAIA,SAAA,EAA0B,MAAM,CAAC,WAJjC;AAAA,MAKA,QAAA,EAA8B,IAAA,IAAA,CAAA,CAAM,CAAC,OAAP,CAAA,CAL9B;AAAA,MAMA,uBAAA,EAA0B,4DAN1B;KAHF,CAAA;WAWA,oBAAA,CAAqB,SAArB,EAZiB;EAAA,CAlGnB,CAAA;;AAAA,EAgHA,WAAA,GAAc,SAAC,IAAD,GAAA;;MAAC,OAAO;KACpB;AAAA,IAAA,IAA8B,SAAS,CAAC,IAAV,CAAe,IAAf,CAA9B;aAAA,SAAA,GAAY,QAAA,CAAS,IAAT,EAAZ;KADY;EAAA,CAhHd,CAAA;;AAAA,EAmHA,oBAAA,GAAuB,SAAC,KAAD,GAAA;AACrB,QAAA,0DAAA;AAAA,IAAA,aAAA,GAAgB,MAAM,CAAC,IAAP,CAAY,SAAZ,CAAhB,CAAA;AAAA,IAEA,qBAAA,GAAwB,aAAa,CAAC,GAAd,CAAkB,SAAC,GAAD,GAAA;aACxC,SAAU,CAAA,GAAA,CAAI,CAAC,SADyB;IAAA,CAAlB,CAExB,CAAC,IAFuB,CAElB,SAAC,CAAD,EAAI,CAAJ,GAAA;aAAU,CAAA,GAAI,EAAd;IAAA,CAFkB,CAFxB,CAAA;AAMA;SAAA,+CAAA;6BAAA;UAA8B,SAAU,CAAA,GAAA,CAAI,CAAC,QAAf,IAA2B,qBAAsB,CAAA,KAAA;AAC7E,qBAAA,MAAA,CAAA,SAAiB,CAAA,GAAA,EAAjB;OADF;AAAA;mBAPqB;EAAA,CAnHvB,CAAA;;AAAA,EA6HA,OAAA,GAAU,SAAC,IAAD,EAAO,OAAP,GAAA;;MAAO,UAAU;KACzB;WAAA,UAAA,CAAW,cAAA,CAAe,IAAf,CAAX,EAAiC,OAAjC,EADQ;EAAA,CA7HV,CAAA;;AAAA,EAgIA,UAAA,GAAa,SAAC,GAAD,EAAM,OAAN,GAAA;AACX,QAAA,8DAAA;AAAA,IAAA,MAAiC,mBAAA,CAAoB,GAApB,CAAjC,EAAC,cAAD,EAAQ,mBAAR,EAAoB,kBAApB,CAAA;;MACA,QAAS,OAAO,CAAC;KADjB;AAAA,IAGA,YAAA,CAAa,MAAM,CAAC,aAApB,CAHA,CAAA;AAAA,IAIA,QAAQ,CAAC,KAAT,GAAiB,KAJjB,CAAA;AAMA,IAAA,IAAG,OAAO,CAAC,MAAX;AACE,MAAA,SAAA,CAAU,UAAV,EAAsB,SAAA,CAAU,QAAQ,CAAC,IAAnB,EAAyB,6BAAzB,CAAtB,EAA+E;AAAA,QAAA,IAAA,EAAM,KAAN;OAA/E,CAAA,CAAA;AAAA,MACA,SAAA,CAAU,UAAV,EAAsB,qBAAA,CAAsB,QAAQ,CAAC,IAA/B,EAAqC,OAAO,CAAC,MAA7C,CAAtB,EAA4E;AAAA,QAAA,IAAA,EAAM,KAAN;OAA5E,CADA,CADF;KAAA,MAAA;AAIE,MAAA,IAAA,CAAA,OAAc,CAAC,KAAf;AACE,QAAA,aAAA,GAAgB,SAAA,CAAU,QAAQ,CAAC,IAAnB,EAAyB,6BAAzB,CAAhB,CAAA;AACA,QAAA,IAA6E,OAAO,CAAC,IAArF;AAAA,UAAA,aAAa,CAAC,IAAd,sBAAmB,qBAAA,CAAsB,QAAQ,CAAC,IAA/B,EAAqC,OAAO,CAAC,IAA7C,CAAnB,CAAA,CAAA;SADA;AAAA,QAEA,SAAA,CAAU,UAAV,EAAsB,aAAtB,EAAqC;AAAA,UAAA,IAAA,EAAM,IAAN;SAArC,CAFA,CADF;OAAA;AAAA,MAKA,YAAA,GAAe,QAAQ,CAAC,eAAe,CAAC,YAAzB,CAAsC,UAAtC,EAAkD,QAAQ,CAAC,IAA3D,CALf,CAAA;AAAA,MAMA,YAAA,CAAa,MAAM,CAAC,YAApB,EAAkC,YAAlC,CANA,CAAA;AAOA,MAAA,IAA8B,iBAA9B;AAAA,QAAA,SAAS,CAAC,MAAV,CAAiB,SAAjB,CAAA,CAAA;OAPA;AAAA,MAQA,mBAAA,CAAA,CARA,CAJF;KANA;AAoBA,IAAA,IAA2B,OAAO,CAAC,UAAR,KAAsB,KAAjD;AAAA,MAAA,iBAAA,CAAA,CAAA,CAAA;KApBA;AAAA,IAqBA,YAAA,GAAe,MAAM,CAAC,OAAO,CAAC,KArB9B,CAAA;AAAA,IAuBA,YAAA,CAAa,MAAM,CAAC,MAApB,CAvBA,CAAA;WAwBA,YAAA,CAAa,MAAM,CAAC,MAApB,EAzBW;EAAA,CAhIb,CAAA;;AAAA,EA2JA,SAAA,GAAY,SAAC,IAAD,EAAO,QAAP,GAAA;WACV,KAAK,CAAA,SAAE,CAAA,KAAK,CAAC,KAAb,CAAmB,IAAI,CAAC,gBAAL,CAAsB,QAAtB,CAAnB,EADU;EAAA,CA3JZ,CAAA;;AAAA,EA8JA,qBAAA,GAAwB,SAAC,IAAD,EAAO,IAAP,GAAA;AACtB,QAAA,+BAAA;AAAA,IAAA,aAAA,GAAgB,EAAhB,CAAA;AACA;AAAA,SAAA,qCAAA;mBAAA;AACE,MAAA,aAAa,CAAC,IAAd,sBAAmB,SAAA,CAAU,IAAV,EAAgB,QAAA,GAAS,GAAT,GAAa,YAAb,GAA0B,GAA1B,GAA8B,IAA9C,CAAnB,CAAA,CADF;AAAA,KADA;AAIA,WAAO,aAAP,CALsB;EAAA,CA9JxB,CAAA;;AAAA,EAqKA,SAAA,GAAY,SAAC,UAAD,EAAa,aAAb,EAA4B,OAA5B,GAAA;AACV,QAAA,wCAAA;AAAA,SAAA,+CAAA;sCAAA;AACE,MAAA,IAAA,CAAA,CAAO,MAAA,GAAS,YAAY,CAAC,YAAb,CAA0B,IAA1B,CAAT,CAAP;AACE,cAAU,IAAA,KAAA,CAAM,kEAAN,CAAV,CADF;OAAA;AAGA,MAAA,IAAG,UAAA,GAAa,UAAU,CAAC,aAAX,CAAyB,OAAA,GAAQ,MAAR,GAAe,IAAxC,CAAhB;AACE,QAAA,IAAG,OAAO,CAAC,IAAX;AACE,UAAA,YAAY,CAAC,UAAU,CAAC,YAAxB,CAAqC,YAAY,CAAC,SAAb,CAAuB,IAAvB,CAArC,EAAmE,YAAnE,CAAA,CAAA;AAAA,UACA,UAAU,CAAC,aAAa,CAAC,SAAzB,CAAmC,YAAnC,CADA,CAAA;AAAA,UAEA,UAAU,CAAC,UAAU,CAAC,YAAtB,CAAmC,YAAnC,EAAiD,UAAjD,CAFA,CADF;SAAA,MAAA;AAKE,UAAA,UAAA,GAAa,UAAU,CAAC,SAAX,CAAqB,IAArB,CAAb,CAAA;AAAA,UACA,YAAY,CAAC,UAAU,CAAC,YAAxB,CAAqC,UAArC,EAAiD,YAAjD,CADA,CAAA;AAAA,UAEA,YAAA,CAAa,MAAM,CAAC,YAApB,EAAkC,YAAlC,CAFA,CALF;SADF;OAJF;AAAA,KADU;EAAA,CArKZ,CAAA;;AAAA,EAqLA,iBAAA,GAAoB,SAAA,GAAA;AAClB,QAAA,gFAAA;AAAA,IAAA,OAAA,GAAU,QAAQ,CAAC,IAAI,CAAC,gBAAd,CAA+B,4CAA/B,CAAV,CAAA;AACA,SAAA,yCAAA;0BAAA;mBAA2B,MAAM,CAAC,KAAP,KAAgB,EAAhB,IAAA,GAAA,KAAoB;;OAC7C;AAAA,MAAA,IAAA,GAAO,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAP,CAAA;AACA;AAAA,WAAA,wCAAA;uBAAA;AAAA,QAAA,IAAI,CAAC,YAAL,CAAkB,IAAI,CAAC,IAAvB,EAA6B,IAAI,CAAC,KAAlC,CAAA,CAAA;AAAA,OADA;AAEA,MAAA,IAAA,CAAA,MAAgC,CAAC,YAAP,CAAoB,OAApB,CAA1B;AAAA,QAAA,IAAI,CAAC,KAAL,GAAa,KAAb,CAAA;OAFA;AAAA,MAGA,IAAI,CAAC,WAAL,CAAiB,QAAQ,CAAC,cAAT,CAAwB,MAAM,CAAC,SAA/B,CAAjB,CAHA,CAAA;AAAA,MAIE,oBAAA,UAAF,EAAc,qBAAA,WAJd,CAAA;AAAA,MAKA,UAAU,CAAC,WAAX,CAAuB,MAAvB,CALA,CAAA;AAAA,MAMA,UAAU,CAAC,YAAX,CAAwB,IAAxB,EAA8B,WAA9B,CANA,CADF;AAAA,KAFkB;EAAA,CArLpB,CAAA;;AAAA,EAiMA,kBAAA,GAAqB,SAAC,IAAD,GAAA;AACnB,IAAA,IAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,SAAS,CAAC,OAAf,CAAuB,iCAAvB,EAA0D,EAA1D,CAAjB,CAAA;WACA,KAFmB;EAAA,CAjMrB,CAAA;;AAAA,EAsMA,mBAAA,GAAsB,SAAA,GAAA;AACpB,QAAA,sBAAA;AAAA,IAAA,gBAAA,GAAmB,CAAC,IAAA,GAAO,QAAQ,CAAC,gBAAT,CAA0B,uCAA1B,CAAR,CAA2E,CAAA,IAAI,CAAC,MAAL,GAAc,CAAd,CAA9F,CAAA;AACA,IAAA,IAAG,gBAAA,IAAqB,QAAQ,CAAC,aAAT,KAA4B,gBAApD;aACE,gBAAgB,CAAC,KAAjB,CAAA,EADF;KAFoB;EAAA,CAtMtB,CAAA;;AAAA,EA2MA,aAAA,GAAgB,SAAC,GAAD,GAAA;AACd,IAAA,IAAG,CAAC,GAAA,GAAU,IAAA,YAAA,CAAa,GAAb,CAAX,CAA4B,CAAC,QAA7B,KAA2C,OAA9C;aACE,MAAM,CAAC,OAAO,CAAC,SAAf,CAAyB;AAAA,QAAE,UAAA,EAAY,IAAd;AAAA,QAAoB,GAAA,EAAK,GAAG,CAAC,QAA7B;OAAzB,EAAkE,EAAlE,EAAsE,GAAG,CAAC,QAA1E,EADF;KADc;EAAA,CA3MhB,CAAA;;AAAA,EA+MA,oBAAA,GAAuB,SAAA,GAAA;AACrB,QAAA,uBAAA;AAAA,IAAA,IAAG,QAAA,GAAW,GAAG,CAAC,iBAAJ,CAAsB,qBAAtB,CAAd;AACE,MAAA,QAAA,GAAe,IAAA,YAAA,CAAa,QAAb,CAAf,CAAA;AAAA,MACA,aAAA,GAAmB,QAAQ,CAAC,SAAT,CAAA,CAAH,GAA6B,QAAQ,CAAC,QAAQ,CAAC,IAA/C,GAAyD,EADzE,CAAA;aAEA,MAAM,CAAC,OAAO,CAAC,YAAf,CAA4B,MAAM,CAAC,OAAO,CAAC,KAA3C,EAAkD,EAAlD,EAAsD,QAAQ,CAAC,IAAT,GAAgB,aAAtE,EAHF;KADqB;EAAA,CA/MvB,CAAA;;AAAA,EAqNA,mBAAA,GAAsB,SAAA,GAAA;AACpB,QAAA,QAAA;AAAA,IAAA,IAAY,wDAAA,IAAoD,CAAK,IAAA,YAAA,CAAa,QAAb,CAAL,CAA4B,CAAC,WAA7B,CAAA,CAAhE;aAAA,SAAA;KADoB;EAAA,CArNtB,CAAA;;AAAA,EAwNA,eAAA,GAAkB,SAAA,GAAA;WAChB,OAAA,GAAU,QAAQ,CAAC,QAAQ,CAAC,KADZ;EAAA,CAxNlB,CAAA;;AAAA,EA2NA,kBAAA,GAAqB,SAAA,GAAA;WACnB,MAAM,CAAC,OAAO,CAAC,YAAf,CAA4B;AAAA,MAAE,UAAA,EAAY,IAAd;AAAA,MAAoB,GAAA,EAAK,QAAQ,CAAC,QAAQ,CAAC,IAA3C;KAA5B,EAA+E,EAA/E,EAAmF,QAAQ,CAAC,QAAQ,CAAC,IAArG,EADmB;EAAA,CA3NrB,CAAA;;AAAA,EA8NA,oBAAA,GAAuB,SAAA,GAAA;WACrB,YAAA,GAAe,MAAM,CAAC,OAAO,CAAC,MADT;EAAA,CA9NvB,CAAA;;AAAA,EAwOA,mCAAA,GAAsC,SAAA,GAAA;AACpC,QAAA,GAAA;AAAA,IAAA,IAAG,SAAS,CAAC,SAAS,CAAC,KAApB,CAA0B,SAA1B,CAAA,IAAyC,CAAA,CAAE,GAAA,GAAO,GAAA,CAAA,YAAR,CAA0B,CAAC,SAA3B,CAAA,CAA7C;AACE,MAAA,MAAM,CAAC,OAAO,CAAC,YAAf,CAA4B,YAA5B,EAA0C,EAA1C,EAA8C,GAAG,CAAC,WAAJ,CAAA,CAA9C,CAAA,CAAA;aACA,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,GAAG,CAAC,KAF/B;KADoC;EAAA,CAxOtC,CAAA;;AAAA,EA6OA,oBAAA,GAAuB,SAAC,IAAD,GAAA;WACrB,MAAM,CAAC,QAAP,CAAgB,IAAI,CAAC,SAArB,EAAgC,IAAI,CAAC,SAArC,EADqB;EAAA,CA7OvB,CAAA;;AAAA,EAgPA,mBAAA,GAAsB,SAAA,GAAA;AACpB,IAAA,IAAG,QAAQ,CAAC,QAAQ,CAAC,IAArB;aACE,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,QAAQ,CAAC,QAAQ,CAAC,KAD7C;KAAA,MAAA;aAGE,MAAM,CAAC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,EAHF;KADoB;EAAA,CAhPtB,CAAA;;AAAA,EAsPA,KAAA,GAAQ,SAAC,QAAD,GAAA;AACN,QAAA,gBAAA;AAAA,IAAA,IAAuB,kBAAJ,IAAiB,MAAA,CAAA,QAAA,KAAqB,QAAzD;AAAA,aAAO,QAAP,CAAA;KAAA;AAAA,IACA,IAAA,GAAW,IAAA,QAAQ,CAAC,WAAT,CAAA,CADX,CAAA;AAEA,SAAA,eAAA;4BAAA;AAAA,MAAA,IAAK,CAAA,GAAA,CAAL,GAAY,KAAA,CAAM,KAAN,CAAZ,CAAA;AAAA,KAFA;WAGA,KAJM;EAAA,CAtPR,CAAA;;AAAA,EA4PA,SAAA,GAAY,SAAC,IAAD,GAAA;AACV,QAAA,UAAA;AAAA,IAAA,KAAA,6EAA2D,CAAA,CAAA,CAAE,CAAC,WAAtD,CAAA,WAAA,IAAuE,EAA/E,CAAA;AAAA,IACA,QAAQ,CAAC,MAAT,GAAkB,IAAA,GAAO,gDADzB,CAAA;WAEA,MAHU;EAAA,CA5PZ,CAAA;;AAAA,EAiQA,QAAA,GAAW,SAAA,GAAA;WACL,IAAA,IAAA,CAAA,CAAM,CAAC,OAAP,CAAA,CAAgB,CAAC,QAAjB,CAA0B,EAA1B,EADK;EAAA,CAjQX,CAAA;;AAAA,EAoQA,YAAA,GAAe,SAAC,IAAD,EAAO,IAAP,GAAA;AACb,QAAA,KAAA;AAAA,IAAA,IAAG,MAAA,CAAA,SAAA,KAAsB,WAAzB;AACE,MAAA,KAAK,CAAC,IAAN,CAAW,QAAX,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,CAAA,CADF;KAAA;AAAA,IAGA,KAAA,GAAQ,QAAQ,CAAC,WAAT,CAAqB,QAArB,CAHR,CAAA;AAIA,IAAA,IAAqB,IAArB;AAAA,MAAA,KAAK,CAAC,IAAN,GAAa,IAAb,CAAA;KAJA;AAAA,IAKA,KAAK,CAAC,SAAN,CAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CALA,CAAA;WAMA,QAAQ,CAAC,aAAT,CAAuB,KAAvB,EAPa;EAAA,CApQf,CAAA;;AAAA,EA6QA,mBAAA,GAAsB,SAAC,GAAD,GAAA;WACpB,CAAA,YAAC,CAAa,MAAM,CAAC,aAApB,EAAmC;AAAA,MAAA,GAAA,EAAK,GAAL;KAAnC,EADmB;EAAA,CA7QtB,CAAA;;AAAA,EAgRA,eAAA,GAAkB,SAAA,GAAA;AAChB,QAAA,wGAAA;AAAA,IAAA,mBAAA,GAAsB,SAAA,GAAA;AACpB,UAAA,GAAA;aAAA,CAAA,GAAA,WAAO,GAAG,CAAC,OAAX,OAAA,GAAoB,GAApB,EADoB;IAAA,CAAtB,CAAA;AAAA,IAGA,YAAA,GAAe,SAAA,GAAA;AACb,UAAA,WAAA;aAAA,+DAAA,IACE,WAAW,CAAC,KAAZ,CAAkB,iEAAlB,EAFW;IAAA,CAHf,CAAA;AAAA,IAOA,eAAA,GAAkB,SAAA,GAAA;AAChB,UAAA,WAAA;aAAA,sEAAA,IACE,WAAW,CAAC,KAAZ,CAAkB,aAAlB,EAFc;IAAA,CAPlB,CAAA;AAAA,IAWA,kBAAA,GAAqB,SAAC,GAAD,GAAA;AACnB,UAAA,0BAAA;AAAA;AAAA;WAAA,qCAAA;sBAAA;YAAsD;AACpD,uBAAA,IAAI,CAAC,YAAL,CAAkB,KAAlB,CAAA,IAA4B,IAAI,CAAC,YAAL,CAAkB,MAAlB,EAA5B;SADF;AAAA;qBADmB;IAAA,CAXrB,CAAA;AAAA,IAeA,aAAA,GAAgB,SAAC,GAAD,GAAA;AACd,UAAA,aAAA;AAAA,MAAA,iBAAA,eAAiB,kBAAA,CAAmB,QAAnB,EAAjB,CAAA;AAAA,MACA,aAAA,GAAiB,kBAAA,CAAmB,GAAnB,CADjB,CAAA;aAEA,aAAa,CAAC,MAAd,KAA0B,YAAY,CAAC,MAAvC,IAAiD,YAAA,CAAa,aAAb,EAA4B,YAA5B,CAAyC,CAAC,MAA1C,KAAsD,YAAY,CAAC,OAHtG;IAAA,CAfhB,CAAA;AAAA,IAoBA,YAAA,GAAe,SAAC,CAAD,EAAI,CAAJ,GAAA;AACb,UAAA,2BAAA;AAAA,MAAA,IAAmB,CAAC,CAAC,MAAF,GAAW,CAAC,CAAC,MAAhC;AAAA,QAAA,MAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAC,UAAD,EAAI,UAAJ,CAAA;OAAA;AACA;WAAA,mCAAA;qBAAA;YAA0B,aAAS,CAAT,EAAA,KAAA;AAA1B,uBAAA,MAAA;SAAA;AAAA;qBAFa;IAAA,CApBf,CAAA;AAwBA,IAAA,IAAG,CAAA,mBAAI,CAAA,CAAJ,IAA8B,YAAA,CAAA,CAA9B,IAAiD,CAAA,eAAI,CAAA,CAAxD;AACE,MAAA,GAAA,GAAM,cAAA,CAAe,GAAG,CAAC,YAAnB,CAAN,CAAA;AACA,MAAA,IAAG,GAAA,IAAQ,CAAA,aAAC,CAAc,GAAd,CAAZ;AACE,eAAO,GAAP,CADF;OAFF;KAzBgB;EAAA,CAhRlB,CAAA;;AAAA,EA8SA,mBAAA,GAAsB,SAAC,GAAD,GAAA;AACpB,QAAA,KAAA;AAAA,IAAA,KAAA,GAAQ,GAAG,CAAC,aAAJ,CAAkB,OAAlB,CAAR,CAAA;WACA,iBAAE,KAAK,CAAE,oBAAT,EAAsB,kBAAA,CAAmB,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAAnB,CAAtB,EAAqE,SAAS,CAAC,GAAV,CAAc,GAAd,CAAkB,CAAC,KAAxF,EAFoB;EAAA,CA9StB,CAAA;;AAAA,EAkTA,SAAA,GACE;AAAA,IAAA,GAAA,EAAK,SAAC,GAAD,GAAA;AACH,UAAA,GAAA;;QADI,MAAM;OACV;aAAA;AAAA,QAAA,IAAA,EAAQ,GAAA,GAAM,GAAG,CAAC,aAAJ,CAAkB,yBAAlB,CAAd;AAAA,QACA,KAAA,yDAAQ,GAAG,CAAE,aAAc,4BAD3B;QADG;IAAA,CAAL;AAAA,IAIA,MAAA,EAAQ,SAAC,MAAD,GAAA;AACN,UAAA,OAAA;AAAA,MAAA,OAAA,GAAU,IAAC,CAAA,GAAD,CAAA,CAAV,CAAA;AACA,MAAA,IAAG,uBAAA,IAAmB,gBAAnB,IAA+B,OAAO,CAAC,KAAR,KAAmB,MAArD;eACE,OAAO,CAAC,IAAI,CAAC,YAAb,CAA0B,SAA1B,EAAqC,MAArC,EADF;OAFM;IAAA,CAJR;GAnTF,CAAA;;AAAA,EA4TA,cAAA,GAAiB,SAAC,IAAD,GAAA;AACf,QAAA,GAAA;AAAA,IAAA,GAAA,GAAM,QAAQ,CAAC,eAAe,CAAC,SAAzB,CAAA,CAAN,CAAA;AAAA,IACA,GAAG,CAAC,SAAJ,GAAgB,IADhB,CAAA;AAAA,IAEA,GAAG,CAAC,IAAJ,GAAW,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAFX,CAAA;AAAA,IAGA,GAAG,CAAC,IAAJ,GAAW,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAHX,CAAA;WAIA,IALe;EAAA,CA5TjB,CAAA;;AAAA,EAwUM;AACS,IAAA,sBAAC,SAAD,GAAA;AACX,MADY,IAAC,CAAA,+BAAD,YAAY,QAAQ,CAAC,QAAQ,CAAC,IAC1C,CAAA;AAAA,MAAA,IAAoB,IAAC,CAAA,QAAQ,CAAC,WAAV,KAAyB,YAA7C;AAAA,eAAO,IAAC,CAAA,QAAR,CAAA;OAAA;AAAA,MACA,IAAC,CAAA,MAAD,CAAA,CADA,CADW;IAAA,CAAb;;AAAA,2BAIA,WAAA,GAAa,SAAA,GAAA;aAAG,IAAC,CAAA,IAAI,CAAC,OAAN,CAAc,IAAC,CAAA,IAAf,EAAqB,EAArB,CAAwB,CAAC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,EAAH;IAAA,CAJb,CAAA;;AAAA,2BAOA,+BAAA,GAAiC,SAAA,GAAA;aAAG,IAAC,CAAA,WAAD,CAAA,EAAH;IAAA,CAPjC,CAAA;;AAAA,2BASA,SAAA,GAAW,SAAA,GAAA;aAAG,IAAC,CAAA,IAAI,CAAC,MAAN,KAAgB,EAAnB;IAAA,CATX,CAAA;;AAAA,2BAWA,WAAA,GAAa,SAAA,GAAA;aACX,IAAC,CAAA,MAAD,KAAa,CAAC,GAAA,CAAA,YAAD,CAAkB,CAAC,OADrB;IAAA,CAXb,CAAA;;AAAA,2BAcA,YAAA,GAAc,SAAC,OAAD,GAAA;;QAAC,UAAU;OACvB;aAAA,CAAI,OAAO,CAAC,KAAX,GAAsB,IAAtB,GAA6B,IAAC,CAAA,kBAAD,CAAA,CAA9B,CAAoD,CAAC,+BAArD,CAAA,EADY;IAAA,CAdd,CAAA;;AAAA,2BAiBA,kBAAA,GAAoB,SAAA,GAAA;aACd,IAAA,YAAA,CACC,eAAe,CAAC,IAAhB,CAAqB,IAAC,CAAA,QAAtB,CAAH,GACE,IAAC,CAAA,QAAQ,CAAC,OAAV,CAAkB,eAAlB,EAAmC,MAAA,GAAM,CAAC,QAAA,CAAA,CAAD,CAAzC,CADF,GAGM,IAAA,YAAA,CAAa,IAAC,CAAA,QAAD,GAAY,CAAI,IAAI,CAAC,IAAL,CAAU,IAAC,CAAA,QAAX,CAAH,GAA6B,GAA7B,GAAsC,GAAvC,CAAZ,GAA0D,CAAA,IAAA,GAAI,CAAC,QAAA,CAAA,CAAD,CAAJ,CAAvE,CAJJ,EADc;IAAA,CAjBpB,CAAA;;AAAA,2BAyBA,MAAA,GAAQ,SAAA,GAAA;AACN,UAAA,GAAA;AAAA,MAAA,qBAAC,IAAC,CAAA,OAAD,IAAC,CAAA,OAAQ,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAV,CAAqC,CAAC,IAAtC,GAA6C,IAAC,CAAA,QAA9C,CAAA;AAAA,MACA,MAA2E,IAAC,CAAA,IAA5E,EAAE,IAAC,CAAA,WAAA,IAAH,EAAS,IAAC,CAAA,eAAA,QAAV,EAAoB,IAAC,CAAA,WAAA,IAArB,EAA2B,IAAC,CAAA,eAAA,QAA5B,EAAsC,IAAC,CAAA,WAAA,IAAvC,EAA6C,IAAC,CAAA,eAAA,QAA9C,EAAwD,IAAC,CAAA,aAAA,MAAzD,EAAiE,IAAC,CAAA,WAAA,IADlE,CAAA;AAAA,MAEA,IAAC,CAAA,MAAD,GAAU,CAAC,IAAC,CAAA,QAAF,EAAY,IAAZ,EAAkB,IAAC,CAAA,QAAnB,CAA4B,CAAC,IAA7B,CAAkC,EAAlC,CAFV,CAAA;AAGA,MAAA,IAA8B,IAAC,CAAA,IAAI,CAAC,MAAN,KAAgB,CAA9C;AAAA,QAAA,IAAC,CAAA,MAAD,IAAW,GAAA,GAAI,IAAC,CAAA,IAAhB,CAAA;OAHA;AAAA,MAIA,IAAC,CAAA,QAAD,GAAY,CAAC,IAAC,CAAA,QAAF,EAAY,IAAC,CAAA,MAAb,EAAqB,IAAC,CAAA,IAAtB,CAA2B,CAAC,IAA5B,CAAiC,EAAjC,CAJZ,CAAA;aAKA,IAAC,CAAA,QAAD,GAAY,IAAC,CAAA,KANP;IAAA,CAzBR,CAAA;;wBAAA;;MAzUF,CAAA;;AAAA,EA6WM;AACJ,4BAAA,CAAA;;AAAA,IAAA,IAAC,CAAA,eAAD,GAAkB,CAAC,MAAD,CAAlB,CAAA;;AAAA,IAEA,IAAC,CAAA,eAAD,GAAkB,SAAA,GAAA;AAChB,UAAA,6BAAA;AAAA,MADiB,kEACjB,CAAA;AAAA,WAAA,4CAAA;kCAAA;AAAA,QAAA,IAAI,CAAC,eAAe,CAAC,IAArB,CAA0B,SAA1B,CAAA,CAAA;AAAA,OAAA;aACA,IAAI,CAAC,gBAFW;IAAA,CAFlB,CAAA;;AAMa,IAAA,cAAC,KAAD,GAAA;AACX,MADY,IAAC,CAAA,OAAD,KACZ,CAAA;AAAA,MAAA,IAAgB,IAAC,CAAA,IAAI,CAAC,WAAN,KAAqB,IAArC;AAAA,eAAO,IAAC,CAAA,IAAR,CAAA;OAAA;AAAA,MACA,IAAC,CAAA,QAAD,GAAY,IAAC,CAAA,IAAI,CAAC,IADlB,CAAA;AAAA,MAEA,IAAC,CAAA,eAAD,GAAmB,IAAC,CAAA,IAFpB,CAAA;AAAA,MAGA,IAAC,CAAA,IAAD,GAAQ,IAAC,CAAA,IAAI,CAAC,SAAN,CAAgB,KAAhB,CAHR,CAAA;AAAA,MAIA,uCAAA,SAAA,CAJA,CADW;IAAA,CANb;;AAAA,mBAaA,YAAA,GAAc,SAAA,GAAA;aACZ,IAAC,CAAA,WAAD,CAAA,CAAA,IACE,IAAC,CAAA,SAAD,CAAA,CADF,IAEE,IAAC,CAAA,QAAD,CAAA,CAFF,IAGE,IAAC,CAAA,OAAD,CAAA,CAHF,IAIE,IAAC,CAAA,OAAD,CAAA,EALU;IAAA,CAbd,CAAA;;AAAA,mBAoBA,SAAA,GAAW,SAAA,GAAA;aACT,CAAC,IAAC,CAAA,IAAI,CAAC,MAAN,GAAe,CAAf,IAAoB,IAAC,CAAA,IAAI,CAAC,MAAN,CAAa,IAAC,CAAA,IAAI,CAAC,MAAN,GAAe,CAA5B,CAAA,KAAkC,GAAvD,CAAA,IACE,CAAC,IAAC,CAAA,WAAD,CAAA,CAAA,KAAkB,CAAC,GAAA,CAAA,YAAD,CAAkB,CAAC,WAAnB,CAAA,CAAnB,EAFO;IAAA,CApBX,CAAA;;AAAA,mBAwBA,QAAA,GAAU,SAAA,GAAA;aACR,IAAC,CAAA,QAAQ,CAAC,KAAV,CAAgB,YAAhB,CAAA,IAAkC,CAAA,IAAK,CAAA,QAAQ,CAAC,KAAV,CAAoB,IAAA,MAAA,CAAO,QAAA,GAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,IAArB,CAA0B,GAA1B,CAAD,CAAR,GAAwC,KAA/C,EAAqD,GAArD,CAApB,EAD9B;IAAA,CAxBV,CAAA;;AAAA,mBA2BA,OAAA,GAAS,SAAA,GAAA;AACP,UAAA,YAAA;AAAA,MAAA,IAAA,GAAO,IAAC,CAAA,eAAR,CAAA;AACA,aAAA,CAAA,CAAM,MAAA,IAAU,IAAA,KAAQ,QAAxB,CAAA,GAAA;AACE,QAAA,MAAA,GAAS,8CAAT,CAAA;AAAA,QACA,IAAA,GAAO,IAAI,CAAC,UADZ,CADF;MAAA,CADA;aAIA,OALO;IAAA,CA3BT,CAAA;;AAAA,mBAkCA,OAAA,GAAS,SAAA,GAAA;aACP,IAAC,CAAA,IAAI,CAAC,MAAM,CAAC,MAAb,KAAyB,EADlB;IAAA,CAlCT,CAAA;;gBAAA;;KADiB,aA7WnB,CAAA;;AAAA,EAwZM;AACJ,IAAA,KAAC,CAAA,kBAAD,GAAqB,SAAC,KAAD,GAAA;AACnB,MAAA,IAAA,CAAA,KAAY,CAAC,gBAAb;AACE,QAAA,QAAQ,CAAC,mBAAT,CAA6B,OAA7B,EAAsC,KAAK,CAAC,MAA5C,EAAoD,KAApD,CAAA,CAAA;eACA,QAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,KAAK,CAAC,MAAzC,EAAiD,KAAjD,EAFF;OADmB;IAAA,CAArB,CAAA;;AAAA,IAKA,KAAC,CAAA,MAAD,GAAS,SAAC,KAAD,GAAA;aACH,IAAA,KAAA,CAAM,KAAN,EADG;IAAA,CALT,CAAA;;AAQa,IAAA,eAAC,MAAD,GAAA;AACX,MADY,IAAC,CAAA,QAAD,MACZ,CAAA;AAAA,MAAA,IAAU,IAAC,CAAA,KAAK,CAAC,gBAAjB;AAAA,cAAA,CAAA;OAAA;AAAA,MACA,IAAC,CAAA,YAAD,CAAA,CADA,CAAA;AAEA,MAAA,IAAG,IAAC,CAAA,mBAAD,CAAA,CAAH;AACE,QAAA,IAAA,CAAA,mBAAwB,CAAoB,IAAC,CAAA,IAAI,CAAC,QAA1B,CAAxB;AAAA,UAAA,KAAA,CAAM,IAAC,CAAA,IAAI,CAAC,IAAZ,CAAA,CAAA;SAAA;AAAA,QACA,IAAC,CAAA,KAAK,CAAC,cAAP,CAAA,CADA,CADF;OAHW;IAAA,CARb;;AAAA,oBAeA,YAAA,GAAc,SAAA,GAAA;AACZ,UAAA,IAAA;AAAA,MAAA,IAAA,GAAO,IAAC,CAAA,KAAK,CAAC,MAAd,CAAA;AACuB,aAAA,CAAA,CAAM,CAAA,IAAK,CAAC,UAAN,IAAoB,IAAI,CAAC,QAAL,KAAiB,GAA3C,CAAA,GAAA;AAAvB,QAAA,IAAA,GAAO,IAAI,CAAC,UAAZ,CAAuB;MAAA,CADvB;AAEA,MAAA,IAA0B,IAAI,CAAC,QAAL,KAAiB,GAAjB,IAAyB,IAAI,CAAC,IAAI,CAAC,MAAV,KAAsB,CAAzE;eAAA,IAAC,CAAA,IAAD,GAAY,IAAA,IAAA,CAAK,IAAL,EAAZ;OAHY;IAAA,CAfd,CAAA;;AAAA,oBAoBA,mBAAA,GAAqB,SAAA,GAAA;aACnB,mBAAA,IAAW,CAAA,CAAK,IAAC,CAAA,IAAI,CAAC,YAAN,CAAA,CAAA,IAAwB,IAAC,CAAA,iBAAD,CAAA,CAAzB,EADI;IAAA,CApBrB,CAAA;;AAAA,oBAuBA,iBAAA,GAAmB,SAAA,GAAA;aACjB,IAAC,CAAA,KAAK,CAAC,KAAP,GAAe,CAAf,IACE,IAAC,CAAA,KAAK,CAAC,OADT,IAEE,IAAC,CAAA,KAAK,CAAC,OAFT,IAGE,IAAC,CAAA,KAAK,CAAC,QAHT,IAIE,IAAC,CAAA,KAAK,CAAC,OALQ;IAAA,CAvBnB,CAAA;;iBAAA;;MAzZF,CAAA;;AAAA,EAwbM;AACJ,QAAA,0BAAA;;AAAA,IAAA,SAAA,GAAY,yBAAZ,CAAA;;AAAA,IAGA,eAAA,GAAkB,IAHlB,CAAA;;AAAA,IAKA,WAAC,CAAA,MAAD,GAAS,SAAA,GAAA;mCACP,cAAA,cAAmB,IAAA,WAAA,CAAY,MAAZ,EADZ;IAAA,CALT,CAAA;;AAAA,IAQA,WAAC,CAAA,OAAD,GAAU,SAAA,GAAA;;QACR,WAAW,CAAE,SAAb,CAAA;OAAA;aACA,WAAA,GAAc,KAFN;IAAA,CARV,CAAA;;AAYa,IAAA,qBAAC,eAAD,GAAA;AACX,MADY,IAAC,CAAA,kBAAD,eACZ,CAAA;AAAA,+CAAA,CAAA;AAAA,2CAAA,CAAA;AAAA,MAAA,IAAC,CAAA,KAAD,GAAS,CAAT,CAAA;AAAA,MACA,IAAC,CAAA,OAAD,GAAW,EADX,CAAA;AAAA,MAEA,IAAC,CAAA,KAAD,GAAS,GAFT,CAAA;AAAA,MAGA,IAAC,CAAA,OAAD,GAAW,eAHX,CAAA;AAAA,MAIA,IAAC,CAAA,OAAD,CAAA,CAJA,CADW;IAAA,CAZb;;AAAA,0BAmBA,OAAA,GAAS,SAAA,GAAA;AACP,MAAA,IAAC,CAAA,OAAD,GAAW,QAAQ,CAAC,aAAT,CAAuB,IAAC,CAAA,eAAxB,CAAX,CAAA;AAAA,MACA,IAAC,CAAA,OAAO,CAAC,SAAS,CAAC,GAAnB,CAAuB,SAAvB,CADA,CAAA;AAAA,MAEA,IAAC,CAAA,YAAD,GAAgB,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAFhB,CAAA;AAAA,MAGA,QAAQ,CAAC,IAAI,CAAC,WAAd,CAA0B,IAAC,CAAA,YAA3B,CAHA,CAAA;aAIA,IAAC,CAAA,YAAD,CAAA,EALO;IAAA,CAnBT,CAAA;;AAAA,0BA0BA,SAAA,GAAW,SAAA,GAAA;AACT,MAAA,IAAC,CAAA,OAAO,CAAC,SAAS,CAAC,MAAnB,CAA0B,SAA1B,CAAA,CAAA;aACA,QAAQ,CAAC,IAAI,CAAC,WAAd,CAA0B,IAAC,CAAA,YAA3B,EAFS;IAAA,CA1BX,CAAA;;AAAA,0BA8BA,KAAA,GAAO,SAAA,GAAA;AACL,MAAA,IAAG,IAAC,CAAA,KAAD,GAAS,CAAZ;AACE,QAAA,IAAC,CAAA,MAAD,CAAA,CAAA,CAAA;AAAA,QACA,IAAC,CAAA,OAAD,CAAA,CADA,CADF;OAAA;aAIA,IAAC,CAAA,SAAD,CAAW,CAAX,EALK;IAAA,CA9BP,CAAA;;AAAA,0BAqCA,SAAA,GAAW,SAAC,KAAD,GAAA;AACT,UAAA,GAAA;AAAA,MAAA,IAAG,CAAA,KAAA,UAAQ,IAAC,CAAA,MAAT,OAAA,IAAkB,GAAlB,CAAH;AACE,QAAA,IAAC,CAAA,KAAD,GAAS,KAAT,CAAA;AAAA,QACA,IAAC,CAAA,YAAD,CAAA,CADA,CAAA;AAGA,QAAA,IAAG,IAAC,CAAA,KAAD,KAAU,GAAb;iBACE,IAAC,CAAA,YAAD,CAAA,EADF;SAAA,MAEK,IAAG,IAAC,CAAA,KAAD,GAAS,CAAZ;iBACH,IAAC,CAAA,aAAD,CAAA,EADG;SANP;OADS;IAAA,CArCX,CAAA;;AAAA,0BA+CA,IAAA,GAAM,SAAA,GAAA;AACJ,MAAA,IAAG,IAAC,CAAA,KAAD,GAAS,CAAZ;AACE,QAAA,IAAC,CAAA,SAAD,CAAW,GAAX,CAAA,CAAA;eACA,IAAC,CAAA,OAAD,CAAA,EAFF;OADI;IAAA,CA/CN,CAAA;;AAAA,0BAoDA,OAAA,GAAS,SAAA,GAAA;AACP,MAAA,IAAC,CAAA,SAAD,GAAa,UAAA,CAAW,CAAA,SAAA,KAAA,GAAA;eAAA,SAAA,GAAA;AACtB,UAAA,KAAC,CAAA,OAAD,GAAW,CAAX,CAAA;iBACA,KAAC,CAAA,YAAD,CAAA,EAFsB;QAAA,EAAA;MAAA,CAAA,CAAA,CAAA,IAAA,CAAX,EAGX,IAAC,CAAA,KAAD,GAAS,CAHE,CAAb,CAAA;aAKA,IAAC,CAAA,UAAD,GAAc,UAAA,CAAW,IAAC,CAAA,MAAZ,EAAoB,IAAC,CAAA,KAArB,EANP;IAAA,CApDT,CAAA;;AAAA,0BA4DA,OAAA,GAAS,SAAA,GAAA;aACP,IAAC,CAAA,OAAO,CAAC,aADF;IAAA,CA5DT,CAAA;;AAAA,0BA+DA,MAAA,GAAQ,SAAA,GAAA;AACN,MAAA,IAAC,CAAA,WAAD,CAAA,CAAA,CAAA;AAAA,MACA,IAAC,CAAA,KAAD,GAAS,CADT,CAAA;AAAA,MAEA,IAAC,CAAA,OAAD,GAAW,eAFX,CAAA;aAGA,IAAC,CAAA,UAAD,CAAY,CAAZ,EAAe,CAAA,SAAA,KAAA,GAAA;eAAA,SAAA,GAAA;iBAAG,KAAC,CAAA,YAAD,CAAc,IAAd,EAAH;QAAA,EAAA;MAAA,CAAA,CAAA,CAAA,IAAA,CAAf,EAJM;IAAA,CA/DR,CAAA;;AAAA,0BAqEA,WAAA,GAAa,SAAA,GAAA;AACX,MAAA,IAAC,CAAA,YAAD,CAAA,CAAA,CAAA;AAAA,MACA,YAAA,CAAa,IAAC,CAAA,SAAd,CADA,CAAA;aAEA,YAAA,CAAa,IAAC,CAAA,UAAd,EAHW;IAAA,CArEb,CAAA;;AAAA,0BA0EA,aAAA,GAAe,SAAA,GAAA;AACb,MAAA,IAAU,IAAC,CAAA,YAAX;AAAA,cAAA,CAAA;OAAA;aACA,IAAC,CAAA,YAAD,GAAgB,UAAA,CAAW,IAAC,CAAA,QAAZ,EAAsB,IAAC,CAAA,KAAvB,EAFH;IAAA,CA1Ef,CAAA;;AAAA,0BA8EA,YAAA,GAAc,SAAA,GAAA;AACZ,MAAA,YAAA,CAAa,IAAC,CAAA,YAAd,CAAA,CAAA;aACA,MAAA,CAAA,IAAQ,CAAA,aAFI;IAAA,CA9Ed,CAAA;;AAAA,0BAkFA,QAAA,GAAU,SAAA,GAAA;AACR,MAAA,IAAC,CAAA,SAAD,CAAW,IAAC,CAAA,KAAD,GAAS,IAAI,CAAC,MAAL,CAAA,CAAA,GAAgB,CAApC,CAAA,CAAA;aACA,IAAC,CAAA,YAAD,GAAgB,UAAA,CAAW,IAAC,CAAA,QAAZ,EAAsB,IAAC,CAAA,KAAvB,EAFR;IAAA,CAlFV,CAAA;;AAAA,0BAsFA,UAAA,GAAY,SAAC,KAAD,EAAQ,EAAR,GAAA;AACV,UAAA,qBAAA;AAAA,MAAA,aAAA,GAAgB,IAAC,CAAA,KAAjB,CAAA;AAAA,MACA,IAAC,CAAA,KAAD,GAAS,KADT,CAAA;AAAA,MAEA,MAAA,GAAS,EAAA,CAAA,CAFT,CAAA;AAAA,MAGA,IAAC,CAAA,KAAD,GAAS,aAHT,CAAA;aAIA,OALU;IAAA,CAtFZ,CAAA;;AAAA,0BA6FA,YAAA,GAAc,SAAC,YAAD,GAAA;;QAAC,eAAe;OAC5B;AAAA,MAAA,IAAmC,YAAnC;AAAA,QAAA,IAAC,CAAA,4BAAD,CAAA,CAAA,CAAA;OAAA;aACA,IAAC,CAAA,YAAY,CAAC,WAAd,GAA4B,IAAC,CAAA,cAAD,CAAA,EAFhB;IAAA,CA7Fd,CAAA;;AAAA,0BAiGA,4BAAA,GAA8B,SAAA,GAAA;aAC5B,IAAC,CAAA,OAAD,GAAc,IAAC,CAAA,OAAD,KAAY,EAAf,GAAuB,GAAvB,GAAgC,GADf;IAAA,CAjG9B,CAAA;;AAAA,0BAoGA,cAAA,GAAgB,SAAA,GAAA;aAEZ,IAAC,CAAA,eAAF,GAAkB,GAAlB,GAAqB,SAArB,GAA+B,0BAA/B,GACa,IAAC,CAAA,OADd,GACsB,4HADtB,GAQY,IAAC,CAAA,OARb,GAQqB,cARrB,GASU,IAAC,CAAA,KATX,GASiB,0BATjB,GAUqB,IAAC,CAAA,KAVtB,GAU4B,uBAV5B,GAUkD,CAAC,IAAC,CAAA,KAAD,GAAS,CAAV,CAVlD,GAU8D,mDAZjD;IAAA,CApGhB,CAAA;;uBAAA;;MAzbF,CAAA;;AAAA,EA8iBA,cAAA,GACE;AAAA,IAAA,MAAA,EAAQ,WAAW,CAAC,MAApB;AAAA,IACA,OAAA,EAAS,WAAW,CAAC,OADrB;AAAA,IAEA,KAAA,EAAO,SAAA,GAAA;aAAG,WAAW,CAAC,MAAZ,CAAA,CAAoB,CAAC,KAArB,CAAA,EAAH;IAAA,CAFP;AAAA,IAGA,SAAA,EAAW,SAAC,KAAD,GAAA;mCAAW,WAAW,CAAE,SAAb,CAAuB,KAAvB,WAAX;IAAA,CAHX;AAAA,IAIA,IAAA,EAAM,SAAA,GAAA;mCAAG,WAAW,CAAE,IAAb,CAAA,WAAH;IAAA,CAJN;GA/iBF,CAAA;;AAAA,EAujBA,oBAAA,GAAuB,SAAC,EAAD,GAAA;WACrB,UAAA,CAAW,EAAX,EAAe,GAAf,EADqB;EAAA,CAvjBvB,CAAA;;AAAA,EA0jBA,qCAAA,GAAwC,SAAA,GAAA;WACtC,QAAQ,CAAC,gBAAT,CAA0B,kBAA1B,EAA8C,CAAE,SAAA,GAAA;AAC9C,MAAA,YAAA,CAAa,MAAM,CAAC,MAApB,CAAA,CAAA;aACA,YAAA,CAAa,MAAM,CAAC,MAApB,EAF8C;IAAA,CAAF,CAA9C,EAGG,IAHH,EADsC;EAAA,CA1jBxC,CAAA;;AAAA,EAgkBA,yCAAA,GAA4C,SAAA,GAAA;AAC1C,IAAA,IAAG,MAAA,CAAA,MAAA,KAAmB,WAAtB;aACE,MAAA,CAAO,QAAP,CAAgB,CAAC,EAAjB,CAAoB,aAApB,EAAmC,SAAC,KAAD,EAAQ,GAAR,EAAa,QAAb,GAAA;AACjC,QAAA,IAAA,CAAA,MAAoB,CAAC,IAAP,CAAY,GAAG,CAAC,YAAhB,CAAd;AAAA,gBAAA,CAAA;SAAA;eACA,YAAA,CAAa,MAAM,CAAC,MAApB,EAFiC;MAAA,CAAnC,EADF;KAD0C;EAAA,CAhkB5C,CAAA;;AAAA,EAskBA,2BAAA,GAA8B,SAAC,KAAD,GAAA;AAC5B,QAAA,eAAA;AAAA,IAAA,qCAAc,CAAE,mBAAhB;AACE,MAAA,IAAG,UAAA,GAAa,SAAU,CAAA,CAAK,IAAA,YAAA,CAAa,KAAK,CAAC,KAAK,CAAC,GAAzB,CAAL,CAAmC,CAAC,QAApC,CAA1B;AACE,QAAA,gBAAA,CAAA,CAAA,CAAA;eACA,YAAA,CAAa,UAAb,EAFF;OAAA,MAAA;eAIE,KAAA,CAAM,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,IAA5B,EAJF;OADF;KAD4B;EAAA,CAtkB9B,CAAA;;AAAA,EA8kBA,oBAAA,GAAuB,SAAA,GAAA;AACrB,IAAA,kBAAA,CAAA,CAAA,CAAA;AAAA,IACA,oBAAA,CAAA,CADA,CAAA;AAAA,IAGA,WAAW,CAAC,MAAZ,CAAA,CAHA,CAAA;AAAA,IAKA,QAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,KAAK,CAAC,kBAAzC,EAA6D,IAA7D,CALA,CAAA;AAAA,IAOA,MAAM,CAAC,gBAAP,CAAwB,YAAxB,EAAsC,SAAC,KAAD,GAAA;AACpC,MAAA,kBAAA,CAAA,CAAA,CAAA;aACA,oBAAA,CAAA,EAFoC;IAAA,CAAtC,EAGE,KAHF,CAPA,CAAA;WAWA,oBAAA,CAAqB,SAAA,GAAA;aACnB,MAAM,CAAC,gBAAP,CAAwB,UAAxB,EAAoC,2BAApC,EAAiE,KAAjE,EADmB;IAAA,CAArB,EAZqB;EAAA,CA9kBvB,CAAA;;AAAA,EA8lBA,qBAAA,GACE,MAAM,CAAC,OAAO,CAAC,KAAf,KAAwB,MAAxB,IAAqC,SAAS,CAAC,SAAS,CAAC,KAApB,CAA0B,iBAA1B,CA/lBvC,CAAA;;AAAA,EAimBA,wBAAA,GACE,MAAM,CAAC,OAAP,IAAmB,MAAM,CAAC,OAAO,CAAC,SAAlC,IAAgD,MAAM,CAAC,OAAO,CAAC,YAA/D,IAAgF,qBAlmBlF,CAAA;;AAAA,EAomBA,gBAAA,GACE,CAAA,SAAU,CAAC,SAAS,CAAC,KAApB,CAA0B,SAA1B,CArmBH,CAAA;;AAAA,EAumBA,mBAAA,UACE,SAAA,CAAU,gBAAV,EAAA,KAAgC,KAAhC,IAAA,GAAA,KAAsC,EAxmBxC,CAAA;;AAAA,EA0mBA,yBAAA,GAA4B,wBAAA,IAA6B,gBAA7B,IAAkD,mBA1mB9E,CAAA;;AAAA,EA4mBA,2BAAA,GACE,QAAQ,CAAC,gBAAT,IAA8B,QAAQ,CAAC,WA7mBzC,CAAA;;AA+mBA,EAAA,IAAG,2BAAH;AACE,IAAA,qCAAA,CAAA,CAAA,CAAA;AAAA,IACA,yCAAA,CAAA,CADA,CADF;GA/mBA;;AAmnBA,EAAA,IAAG,yBAAH;AACE,IAAA,KAAA,GAAQ,KAAR,CAAA;AAAA,IACA,oBAAA,CAAA,CADA,CADF;GAAA,MAAA;AAIE,IAAA,KAAA,GAAQ,SAAC,GAAD,GAAA;aAAS,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,IAAlC;IAAA,CAAR,CAJF;GAnnBA;;AAAA,EAwoBA,IAAC,CAAA,UAAD,GAAc;AAAA,IACZ,OAAA,KADY;AAAA,IAEZ,SAAA,OAFY;AAAA,IAGZ,aAAA,WAHY;AAAA,IAIZ,kBAAA,gBAJY;AAAA,IAKZ,uBAAA,qBALY;AAAA,IAMZ,uBAAA,qBANY;AAAA,IAOZ,WAAA,EAAa,cAPD;AAAA,IAQZ,mBAAA,EAAqB,IAAI,CAAC,eARd;AAAA,IASZ,SAAA,EAAW,yBATC;AAAA,IAUZ,MAAA,EAAQ,KAAA,CAAM,MAAN,CAVI;GAxoBd,CAAA;AAAA","file":"turbolinks.js","sourceRoot":"/source/","sourcesContent":["pageCache               = {}\ncacheSize               = 10\ntransitionCacheEnabled  = false\nrequestCachingEnabled   = true\nprogressBar             = null\n\ncurrentState            = null\nloadedAssets            = null\n\nreferer                 = null\n\nxhr                     = null\n\nEVENTS =\n  BEFORE_CHANGE:  'page:before-change'\n  FETCH:          'page:fetch'\n  RECEIVE:        'page:receive'\n  CHANGE:         'page:change'\n  UPDATE:         'page:update'\n  LOAD:           'page:load'\n  RESTORE:        'page:restore'\n  BEFORE_UNLOAD:  'page:before-unload'\n  AFTER_REMOVE:   'page:after-remove'\n\nfetch = (url, options = {}) ->\n  url = new ComponentUrl url\n\n  rememberReferer()\n  cacheCurrentPage()\n  progressBar?.start()\n\n  if transitionCacheEnabled and cachedPage = transitionCacheFor(url.absolute)\n    fetchHistory cachedPage\n    options.showProgressBar = false\n    fetchReplacement url, options\n  else\n    options.onLoadFunction = resetScrollPosition\n    fetchReplacement url, options\n\ntransitionCacheFor = (url) ->\n  cachedPage = pageCache[url]\n  cachedPage if cachedPage and !cachedPage.transitionCacheDisabled\n\nenableTransitionCache = (enable = true) ->\n  transitionCacheEnabled = enable\n\ndisableRequestCaching = (disable = true) ->\n  requestCachingEnabled = not disable\n  disable\n\nfetchReplacement = (url, options) ->\n  options.cacheRequest ?= requestCachingEnabled\n  options.showProgressBar ?= true\n\n  triggerEvent EVENTS.FETCH, url: url.absolute\n\n  xhr?.abort()\n  xhr = new XMLHttpRequest\n  xhr.open 'GET', url.formatForXHR(cache: options.cacheRequest), true\n  xhr.setRequestHeader 'Accept', 'text/html, application/xhtml+xml, application/xml'\n  xhr.setRequestHeader 'X-XHR-Referer', referer\n\n  xhr.onload = ->\n    triggerEvent EVENTS.RECEIVE, url: url.absolute\n\n    if doc = processResponse()\n      reflectNewUrl url\n      reflectRedirectedUrl()\n      changePage doc, options\n      if options.showProgressBar\n        progressBar?.done()\n      manuallyTriggerHashChangeForFirefox()\n      options.onLoadFunction?()\n      triggerEvent EVENTS.LOAD\n    else\n      progressBar?.done()\n      document.location.href = crossOriginRedirect() or url.absolute\n\n  if progressBar and options.showProgressBar\n    xhr.onprogress = (event) =>\n      percent = if event.lengthComputable\n        event.loaded / event.total * 100\n      else\n        progressBar.value + (100 - progressBar.value) / 10\n      progressBar.advanceTo(percent)\n\n  xhr.onloadend = -> xhr = null\n  xhr.onerror   = -> document.location.href = url.absolute\n\n  xhr.send()\n\nfetchHistory = (cachedPage) ->\n  xhr?.abort()\n  changePage createDocument(cachedPage.body), title: cachedPage.title, runScripts: false\n  progressBar?.done()\n  recallScrollPosition cachedPage\n  triggerEvent EVENTS.RESTORE\n\ncacheCurrentPage = ->\n  currentStateUrl = new ComponentUrl currentState.url\n\n  pageCache[currentStateUrl.absolute] =\n    url:                      currentStateUrl.relative,\n    body:                     document.body.outerHTML,\n    title:                    document.title,\n    positionY:                window.pageYOffset,\n    positionX:                window.pageXOffset,\n    cachedAt:                 new Date().getTime(),\n    transitionCacheDisabled:  document.querySelector('[data-no-transition-cache]')?\n\n  constrainPageCacheTo cacheSize\n\npagesCached = (size = cacheSize) ->\n  cacheSize = parseInt(size) if /^[\\d]+$/.test size\n\nconstrainPageCacheTo = (limit) ->\n  pageCacheKeys = Object.keys pageCache\n\n  cacheTimesRecentFirst = pageCacheKeys.map (url) ->\n    pageCache[url].cachedAt\n  .sort (a, b) -> b - a\n\n  for key in pageCacheKeys when pageCache[key].cachedAt <= cacheTimesRecentFirst[limit]\n    delete pageCache[key]\n\nreplace = (html, options = {}) ->\n  changePage createDocument(html), options\n\nchangePage = (doc, options) ->\n  [title, targetBody, csrfToken] = extractTitleAndBody(doc)\n  title ?= options.title\n\n  triggerEvent EVENTS.BEFORE_UNLOAD\n  document.title = title\n\n  if options.change\n    swapNodes(targetBody, findNodes(document.body, '[data-turbolinks-temporary]'), keep: false)\n    swapNodes(targetBody, findNodesMatchingKeys(document.body, options.change), keep: false)\n  else\n    unless options.flush\n      nodesToBeKept = findNodes(document.body, '[data-turbolinks-permanent]')\n      nodesToBeKept.push(findNodesMatchingKeys(document.body, options.keep)...) if options.keep\n      swapNodes(targetBody, nodesToBeKept, keep: true)\n\n    existingBody = document.documentElement.replaceChild(targetBody, document.body)\n    triggerEvent(EVENTS.AFTER_REMOVE, existingBody)\n    CSRFToken.update csrfToken if csrfToken?\n    setAutofocusElement()\n\n  executeScriptTags() unless options.runScripts is false\n  currentState = window.history.state\n\n  triggerEvent EVENTS.CHANGE\n  triggerEvent EVENTS.UPDATE\n\nfindNodes = (body, selector) ->\n  Array::slice.apply(body.querySelectorAll(selector))\n\nfindNodesMatchingKeys = (body, keys) ->\n  matchingNodes = []\n  for key in (if Array.isArray(keys) then keys else [keys])\n    matchingNodes.push(findNodes(body, '[id^=\"'+key+':\"], [id=\"'+key+'\"]')...)\n\n  return matchingNodes\n\nswapNodes = (targetBody, existingNodes, options) ->\n  for existingNode in existingNodes\n    unless nodeId = existingNode.getAttribute('id')\n      throw new Error(\"Turbolinks partial replace: turbolinks elements must have an id.\")\n\n    if targetNode = targetBody.querySelector('[id=\"'+nodeId+'\"]')\n      if options.keep\n        existingNode.parentNode.insertBefore(existingNode.cloneNode(true), existingNode)\n        targetBody.ownerDocument.adoptNode(existingNode)\n        targetNode.parentNode.replaceChild(existingNode, targetNode)\n      else\n        targetNode = targetNode.cloneNode(true)\n        existingNode.parentNode.replaceChild(targetNode, existingNode)\n        triggerEvent(EVENTS.AFTER_REMOVE, existingNode)\n  return\n\nexecuteScriptTags = ->\n  scripts = document.body.querySelectorAll 'script:not([data-turbolinks-eval=\"false\"])'\n  for script in scripts when script.type in ['', 'text/javascript']\n    copy = document.createElement 'script'\n    copy.setAttribute attr.name, attr.value for attr in script.attributes\n    copy.async = false unless script.hasAttribute 'async'\n    copy.appendChild document.createTextNode script.innerHTML\n    { parentNode, nextSibling } = script\n    parentNode.removeChild script\n    parentNode.insertBefore copy, nextSibling\n  return\n\nremoveNoscriptTags = (node) ->\n  node.innerHTML = node.innerHTML.replace /<noscript[\\S\\s]*?<\\/noscript>/ig, ''\n  node\n\n# Firefox bug: Doesn't autofocus fields that are inserted via JavaScript\nsetAutofocusElement = ->\n  autofocusElement = (list = document.querySelectorAll 'input[autofocus], textarea[autofocus]')[list.length - 1]\n  if autofocusElement and document.activeElement isnt autofocusElement\n    autofocusElement.focus()\n\nreflectNewUrl = (url) ->\n  if (url = new ComponentUrl url).absolute isnt referer\n    window.history.pushState { turbolinks: true, url: url.absolute }, '', url.absolute\n\nreflectRedirectedUrl = ->\n  if location = xhr.getResponseHeader 'X-XHR-Redirected-To'\n    location = new ComponentUrl location\n    preservedHash = if location.hasNoHash() then document.location.hash else ''\n    window.history.replaceState window.history.state, '', location.href + preservedHash\n\ncrossOriginRedirect = ->\n  redirect if (redirect = xhr.getResponseHeader('Location'))? and (new ComponentUrl(redirect)).crossOrigin()\n\nrememberReferer = ->\n  referer = document.location.href\n\nrememberCurrentUrl = ->\n  window.history.replaceState { turbolinks: true, url: document.location.href }, '', document.location.href\n\nrememberCurrentState = ->\n  currentState = window.history.state\n\n# Unlike other browsers, Firefox doesn't trigger hashchange after changing the\n# location (via pushState) to an anchor on a different page.  For example:\n#\n#   /pages/one  =>  /pages/two#with-hash\n#\n# By forcing Firefox to trigger hashchange, the rest of the code can rely on more\n# consistent behavior across browsers.\nmanuallyTriggerHashChangeForFirefox = ->\n  if navigator.userAgent.match(/Firefox/) and !(url = (new ComponentUrl)).hasNoHash()\n    window.history.replaceState currentState, '', url.withoutHash()\n    document.location.hash = url.hash\n\nrecallScrollPosition = (page) ->\n  window.scrollTo page.positionX, page.positionY\n\nresetScrollPosition = ->\n  if document.location.hash\n    document.location.href = document.location.href\n  else\n    window.scrollTo 0, 0\n\nclone = (original) ->\n  return original if not original? or typeof original isnt 'object'\n  copy = new original.constructor()\n  copy[key] = clone value for key, value of original\n  copy\n\npopCookie = (name) ->\n  value = document.cookie.match(new RegExp(name+\"=(\\\\w+)\"))?[1].toUpperCase() or ''\n  document.cookie = name + '=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/'\n  value\n\nuniqueId = ->\n  new Date().getTime().toString(36)\n\ntriggerEvent = (name, data) ->\n  if typeof Prototype isnt 'undefined'\n    Event.fire document, name, data, true\n\n  event = document.createEvent 'Events'\n  event.data = data if data\n  event.initEvent name, true, true\n  document.dispatchEvent event\n\npageChangePrevented = (url) ->\n  !triggerEvent EVENTS.BEFORE_CHANGE, url: url\n\nprocessResponse = ->\n  clientOrServerError = ->\n    400 <= xhr.status < 600\n\n  validContent = ->\n    (contentType = xhr.getResponseHeader('Content-Type'))? and\n      contentType.match /^(?:text\\/html|application\\/xhtml\\+xml|application\\/xml)(?:;|$)/\n\n  downloadingFile = ->\n    (disposition = xhr.getResponseHeader('Content-Disposition'))? and\n      disposition.match /^attachment/\n\n  extractTrackAssets = (doc) ->\n    for node in doc.querySelector('head').childNodes when node.getAttribute?('data-turbolinks-track')?\n      node.getAttribute('src') or node.getAttribute('href')\n\n  assetsChanged = (doc) ->\n    loadedAssets ||= extractTrackAssets document\n    fetchedAssets  = extractTrackAssets doc\n    fetchedAssets.length isnt loadedAssets.length or intersection(fetchedAssets, loadedAssets).length isnt loadedAssets.length\n\n  intersection = (a, b) ->\n    [a, b] = [b, a] if a.length > b.length\n    value for value in a when value in b\n\n  if not clientOrServerError() and validContent() and not downloadingFile()\n    doc = createDocument xhr.responseText\n    if doc and !assetsChanged doc\n      return doc\n\nextractTitleAndBody = (doc) ->\n  title = doc.querySelector 'title'\n  [ title?.textContent, removeNoscriptTags(doc.querySelector('body')), CSRFToken.get(doc).token ]\n\nCSRFToken =\n  get: (doc = document) ->\n    node:   tag = doc.querySelector 'meta[name=\"csrf-token\"]'\n    token:  tag?.getAttribute? 'content'\n\n  update: (latest) ->\n    current = @get()\n    if current.token? and latest? and current.token isnt latest\n      current.node.setAttribute 'content', latest\n\ncreateDocument = (html) ->\n  doc = document.documentElement.cloneNode()\n  doc.innerHTML = html\n  doc.head = doc.querySelector 'head'\n  doc.body = doc.querySelector 'body'\n  doc\n\n# The ComponentUrl class converts a basic URL string into an object\n# that behaves similarly to document.location.\n#\n# If an instance is created from a relative URL, the current document\n# is used to fill in the missing attributes (protocol, host, port).\nclass ComponentUrl\n  constructor: (@original = document.location.href) ->\n    return @original if @original.constructor is ComponentUrl\n    @_parse()\n\n  withoutHash: -> @href.replace(@hash, '').replace('#', '')\n\n  # Intention revealing function alias\n  withoutHashForIE10compatibility: -> @withoutHash()\n\n  hasNoHash: -> @hash.length is 0\n\n  crossOrigin: ->\n    @origin isnt (new ComponentUrl).origin\n\n  formatForXHR: (options = {}) ->\n    (if options.cache then @ else @withAntiCacheParam()).withoutHashForIE10compatibility()\n\n  withAntiCacheParam: ->\n    new ComponentUrl(\n      if /([?&])_=[^&]*/.test @absolute\n        @absolute.replace /([?&])_=[^&]*/, \"$1_=#{uniqueId()}\"\n      else\n        new ComponentUrl(@absolute + (if /\\?/.test(@absolute) then \"&\" else \"?\") + \"_=#{uniqueId()}\")\n    )\n\n  _parse: ->\n    (@link ?= document.createElement 'a').href = @original\n    { @href, @protocol, @host, @hostname, @port, @pathname, @search, @hash } = @link\n    @origin = [@protocol, '//', @hostname].join ''\n    @origin += \":#{@port}\" unless @port.length is 0\n    @relative = [@pathname, @search, @hash].join ''\n    @absolute = @href\n\n# The Link class derives from the ComponentUrl class, but is built from an\n# existing link element.  Provides verification functionality for Turbolinks\n# to use in determining whether it should process the link when clicked.\nclass Link extends ComponentUrl\n  @HTML_EXTENSIONS: ['html']\n\n  @allowExtensions: (extensions...) ->\n    Link.HTML_EXTENSIONS.push extension for extension in extensions\n    Link.HTML_EXTENSIONS\n\n  constructor: (@link) ->\n    return @link if @link.constructor is Link\n    @original = @link.href\n    @originalElement = @link\n    @link = @link.cloneNode false\n    super\n\n  shouldIgnore: ->\n    @crossOrigin() or\n      @_anchored() or\n      @_nonHtml() or\n      @_optOut() or\n      @_target()\n\n  _anchored: ->\n    (@hash.length > 0 or @href.charAt(@href.length - 1) is '#') and\n      (@withoutHash() is (new ComponentUrl).withoutHash())\n\n  _nonHtml: ->\n    @pathname.match(/\\.[a-z]+$/g) and not @pathname.match(new RegExp(\"\\\\.(?:#{Link.HTML_EXTENSIONS.join('|')})?$\", 'g'))\n\n  _optOut: ->\n    link = @originalElement\n    until ignore or link is document\n      ignore = link.getAttribute('data-no-turbolink')?\n      link = link.parentNode\n    ignore\n\n  _target: ->\n    @link.target.length isnt 0\n\n\n# The Click class handles clicked links, verifying if Turbolinks should\n# take control by inspecting both the event and the link. If it should,\n# the page change process is initiated. If not, control is passed back\n# to the browser for default functionality.\nclass Click\n  @installHandlerLast: (event) ->\n    unless event.defaultPrevented\n      document.removeEventListener 'click', Click.handle, false\n      document.addEventListener 'click', Click.handle, false\n\n  @handle: (event) ->\n    new Click event\n\n  constructor: (@event) ->\n    return if @event.defaultPrevented\n    @_extractLink()\n    if @_validForTurbolinks()\n      visit @link.href unless pageChangePrevented(@link.absolute)\n      @event.preventDefault()\n\n  _extractLink: ->\n    link = @event.target\n    link = link.parentNode until !link.parentNode or link.nodeName is 'A'\n    @link = new Link(link) if link.nodeName is 'A' and link.href.length isnt 0\n\n  _validForTurbolinks: ->\n    @link? and not (@link.shouldIgnore() or @_nonStandardClick())\n\n  _nonStandardClick: ->\n    @event.which > 1 or\n      @event.metaKey or\n      @event.ctrlKey or\n      @event.shiftKey or\n      @event.altKey\n\n\nclass ProgressBar\n  className = 'turbolinks-progress-bar'\n  # Setting the opacity to a value < 1 fixes a display issue in Safari 6 and\n  # iOS 6 where the progress bar would fill the entire page.\n  originalOpacity = 0.99\n\n  @enable: ->\n    progressBar ?= new ProgressBar 'html'\n\n  @disable: ->\n    progressBar?.uninstall()\n    progressBar = null\n\n  constructor: (@elementSelector) ->\n    @value = 0\n    @content = ''\n    @speed = 300\n    @opacity = originalOpacity\n    @install()\n\n  install: ->\n    @element = document.querySelector(@elementSelector)\n    @element.classList.add(className)\n    @styleElement = document.createElement('style')\n    document.head.appendChild(@styleElement)\n    @_updateStyle()\n\n  uninstall: ->\n    @element.classList.remove(className)\n    document.head.removeChild(@styleElement)\n\n  start: ->\n    if @value > 0\n      @_reset()\n      @_reflow()\n\n    @advanceTo(5)\n\n  advanceTo: (value) ->\n    if value > @value <= 100\n      @value = value\n      @_updateStyle()\n\n      if @value is 100\n        @_stopTrickle()\n      else if @value > 0\n        @_startTrickle()\n\n  done: ->\n    if @value > 0\n      @advanceTo(100)\n      @_finish()\n\n  _finish: ->\n    @fadeTimer = setTimeout =>\n      @opacity = 0\n      @_updateStyle()\n    , @speed / 2\n\n    @resetTimer = setTimeout(@_reset, @speed)\n\n  _reflow: ->\n    @element.offsetHeight\n\n  _reset: =>\n    @_stopTimers()\n    @value = 0\n    @opacity = originalOpacity\n    @_withSpeed(0, => @_updateStyle(true))\n\n  _stopTimers: ->\n    @_stopTrickle()\n    clearTimeout(@fadeTimer)\n    clearTimeout(@resetTimer)\n\n  _startTrickle: ->\n    return if @trickleTimer\n    @trickleTimer = setTimeout(@_trickle, @speed)\n\n  _stopTrickle: ->\n    clearTimeout(@trickleTimer)\n    delete @trickleTimer\n\n  _trickle: =>\n    @advanceTo(@value + Math.random() / 2)\n    @trickleTimer = setTimeout(@_trickle, @speed)\n\n  _withSpeed: (speed, fn) ->\n    originalSpeed = @speed\n    @speed = speed\n    result = fn()\n    @speed = originalSpeed\n    result\n\n  _updateStyle: (forceRepaint = false) ->\n    @_changeContentToForceRepaint() if forceRepaint\n    @styleElement.textContent = @_createCSSRule()\n\n  _changeContentToForceRepaint: ->\n    @content = if @content is '' then ' ' else ''\n\n  _createCSSRule: ->\n    \"\"\"\n    #{@elementSelector}.#{className}::before {\n      content: '#{@content}';\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 2000;\n      background-color: #0076ff;\n      height: 3px;\n      opacity: #{@opacity};\n      width: #{@value}%;\n      transition: width #{@speed}ms ease-out, opacity #{@speed / 2}ms ease-in;\n      transform: translate3d(0,0,0);\n    }\n    \"\"\"\n\nProgressBarAPI =\n  enable: ProgressBar.enable\n  disable: ProgressBar.disable\n  start: -> ProgressBar.enable().start()\n  advanceTo: (value) -> progressBar?.advanceTo(value)\n  done: -> progressBar?.done()\n\n# Delay execution of function long enough to miss the popstate event\n# some browsers fire on the initial page load.\nbypassOnLoadPopstate = (fn) ->\n  setTimeout fn, 500\n\ninstallDocumentReadyPageEventTriggers = ->\n  document.addEventListener 'DOMContentLoaded', ( ->\n    triggerEvent EVENTS.CHANGE\n    triggerEvent EVENTS.UPDATE\n  ), true\n\ninstallJqueryAjaxSuccessPageUpdateTrigger = ->\n  if typeof jQuery isnt 'undefined'\n    jQuery(document).on 'ajaxSuccess', (event, xhr, settings) ->\n      return unless jQuery.trim xhr.responseText\n      triggerEvent EVENTS.UPDATE\n\ninstallHistoryChangeHandler = (event) ->\n  if event.state?.turbolinks\n    if cachedPage = pageCache[(new ComponentUrl(event.state.url)).absolute]\n      cacheCurrentPage()\n      fetchHistory cachedPage\n    else\n      visit event.target.location.href\n\ninitializeTurbolinks = ->\n  rememberCurrentUrl()\n  rememberCurrentState()\n\n  ProgressBar.enable()\n\n  document.addEventListener 'click', Click.installHandlerLast, true\n\n  window.addEventListener 'hashchange', (event) ->\n    rememberCurrentUrl()\n    rememberCurrentState()\n  , false\n  bypassOnLoadPopstate ->\n    window.addEventListener 'popstate', installHistoryChangeHandler, false\n\n# Handle bug in Firefox 26/27 where history.state is initially undefined\nhistoryStateIsDefined =\n  window.history.state != undefined or navigator.userAgent.match /Firefox\\/2[6|7]/\n\nbrowserSupportsPushState =\n  window.history and window.history.pushState and window.history.replaceState and historyStateIsDefined\n\nbrowserIsntBuggy =\n  !navigator.userAgent.match /CriOS\\//\n\nrequestMethodIsSafe =\n  popCookie('request_method') in ['GET','']\n\nbrowserSupportsTurbolinks = browserSupportsPushState and browserIsntBuggy and requestMethodIsSafe\n\nbrowserSupportsCustomEvents =\n  document.addEventListener and document.createEvent\n\nif browserSupportsCustomEvents\n  installDocumentReadyPageEventTriggers()\n  installJqueryAjaxSuccessPageUpdateTrigger()\n\nif browserSupportsTurbolinks\n  visit = fetch\n  initializeTurbolinks()\nelse\n  visit = (url) -> document.location.href = url\n\n# Public API\n#   Turbolinks.visit(url)\n#   Turbolinks.pagesCached()\n#   Turbolinks.pagesCached(20)\n#   Turbolinks.cacheCurrentPage()\n#   Turbolinks.enableTransitionCache()\n#   Turbolinks.disableRequestCaching()\n#   Turbolinks.ProgressBar.enable()\n#   Turbolinks.ProgressBar.disable()\n#   Turbolinks.ProgressBar.start()\n#   Turbolinks.ProgressBar.advanceTo(80)\n#   Turbolinks.ProgressBar.done()\n#   Turbolinks.allowLinkExtensions('md')\n#   Turbolinks.supported\n#   Turbolinks.EVENTS\n@Turbolinks = {\n  visit,\n  replace,\n  pagesCached,\n  cacheCurrentPage,\n  enableTransitionCache,\n  disableRequestCaching,\n  ProgressBar: ProgressBarAPI,\n  allowLinkExtensions: Link.allowExtensions,\n  supported: browserSupportsTurbolinks,\n  EVENTS: clone(EVENTS)\n}"]}